<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DOM Magic</title>
  </head>
  <body>
    <!-- Input field with onInput event and debouncing -->
  <input id="textInput" type="text" onInput="debounce(handleInput, 500)" placeholder="Type something...">

  <!-- Display area for the debounced input value -->
  <p id="displayText"></p>

  <script>
  // Debounce function to delay the execution of a function 
  function debounce(func, delay) {
    let timeoutId;

    return function(...args) {
      // Clear the previous timeout
      clearTimeout(timeoutId);

      // Set a new timeout
      timeoutId = setTimeout(() => {
        func.apply(this, args);
      }, delay);
    };
  }

  // Function to handle the debounced onInput event
  function handleInput() {
    // Get the input field's value
    const inputValue = document.getElementById("textInput").value;

    // Display the input value in the paragraph
    document.getElementById("displayText").innerText  = "You typed :" + inputValue;

    // Simulate sending a request (replace with actual AJAX call)
    console.log("Request sent:", inputValue);
  }

  // Create debounced function ONCE
  const debouncedHandleInput = debounce(handleInput, 500);

  // Attach event listener
  document.getElementById("textInput").addEventListener("input", debouncedHandleInput);
  </script>

  </body>
</html>

